"use strict";(self.webpackChunkguess_who=self.webpackChunkguess_who||[]).push([[610],{4610:(N,l,o)=>{o.r(l),o.d(l,{GamesModule:()=>H});var i=o(6895),u=o(5033),F=o(9715),a=o(2997);const m="[Games] ",f=(0,a.PH)(m+"Fetch Games"),p=(0,a.PH)(m+"Fetch Games Loading"),d=(0,a.PH)(m+"Fetch Games Success",(0,a.Ky)()),G=(0,a.PH)(m+"Fetch Games Failure",(0,a.Ky)()),h="GamesState",C=(0,a.Lq)({status:"pending",games:[]},(0,a.on)(p,(e,s)=>({...e,status:"loading"})),(0,a.on)(d,(e,s)=>({...e,status:"success",games:s.games})),(0,a.on)(G,(e,s)=>({...e,status:"error"}))),y=(0,a.ZF)(h),x=(0,a.P1)(y,e=>e.games),L=(0,a.P1)(y,e=>"loading"===e.status);var t=o(4650);function A(e,s){1&e&&(t.ynx(0),t.TgZ(1,"label"),t._uU(2,"Loading ..."),t.qZA(),t.BQk())}function M(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"button",2),t.NdJ("click",function(){const r=t.CHM(n).$implicit,K=t.oxw(3);return t.KtG(K.onClickGame(r.id))}),t._uU(2),t.qZA()()}if(2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.title)}}function T(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"ul"),t.YNc(2,M,3,1,"li",1),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(2),t.Q6J("ngForOf",n.games)}}function $(e,s){if(1&e&&(t.ynx(0),t.YNc(1,A,3,0,"ng-container",0),t.YNc(2,T,3,1,"ng-container",0),t.BQk()),2&e){const n=s.ngIf;t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",n.games)}}const B=function(e,s){return{games:e,isLoading:s}},Z=[{path:"",component:(()=>{class e{constructor(n,c){this.gamesStore=n,this.router=c,this.games$=this.gamesStore.select(x),this.isLoading$=this.gamesStore.select(L)}ngOnInit(){this.gamesStore.dispatch(f())}onClickGame(n){this.router.navigateByUrl(`/game/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.yh),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-games"]],decls:3,vars:8,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(n,c){1&n&&(t.YNc(0,$,3,2,"ng-container",0),t.ALo(1,"async"),t.ALo(2,"async")),2&n&&t.Q6J("ngIf",t.WLB(5,B,t.lcZ(1,1,c.games$),t.lcZ(2,3,c.isLoading$)))},dependencies:[i.sg,i.O5,i.Ov],styles:["ul[_ngcontent-%COMP%]{display:grid;gap:1rem}button[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:var(--gray-200);border:.1rem solid var(--gray-400)}"]}),e})(),data:{pageType:F.W.games}}];let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]}),e})();var g=o(8776),O=o(6129),P=o(3900),Q=o(262),Y=o(9646),J=o(4707);let z=(()=>{class e{constructor(){}fetchGames(){const n=new J.t(1),c=[this.game1(),this.game2()];return setTimeout(()=>{n.next(c)},1e3),n}game1(){return{id:1,type:"select-name",gameStatus:"not-started",difficulty:"easy",title:"select name game 1",questions:30,progress:10}}game2(){return{id:2,type:"select-photo",gameStatus:"not-started",difficulty:"easy",title:"select photo game 1",questions:20}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E=(()=>{class e{constructor(n,c,v){this.actions$=n,this.gamesApiService=c,this.gamesStore=v,this.fetchGames$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(f),(0,O.z)(()=>(this.gamesStore.dispatch(p()),this.gamesApiService.fetchGames().pipe((0,P.w)(r=>[d({games:r})]),(0,Q.K)(r=>(0,Y.of)(G({error:r}))))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.eX),t.LFG(z),t.LFG(a.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,I,a.Aw.forFeature(h,C),g.sQ.forFeature([E])]}),e})()}}]);