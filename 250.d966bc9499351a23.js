"use strict";(self.webpackChunkguess_who=self.webpackChunkguess_who||[]).push([[250],{1250:(pt,M,a)=>{a.r(M),a.d(M,{GameModule:()=>lt});var l=a(6895),u=a(5033),I=a(9715),S=a(5698),r=a(6386),O=a(4216),t=a(4650),h=a(2997);const Q=["*"];let P=(()=>{class e{constructor(n){this.elementRef=n,this.align="left"}ngOnInit(){this.elementRef.nativeElement.dataset.align=this.align}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-headline"]],inputs:{align:"align"},ngContentSelectors:Q,decls:1,vars:0,template:function(n,o){1&n&&(t.F$t(),t.Hsn(0))},styles:["@keyframes pulse{0%{box-shadow:0 0 0 0 var(--pulse-color)}}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(var(--shake-1))}50%{transform:translate(var(--shake-2))}to{transform:translate(0)}}[_nghost-%COMP%]{display:flex;font-size:18px;font-weight:700;gap:.5em}[data-align=left][_nghost-%COMP%]{justify-content:flex-start;text-align:left}[data-align=center][_nghost-%COMP%]{justify-content:center;text-align:center}[data-align=right][_nghost-%COMP%]{justify-content:flex-end;text-align:right}@media (orientation: portrait){[_nghost-%COMP%]{font-size:clamp(18px,7.3vw,35px)}}@media (orientation: landscape){[_nghost-%COMP%]{font-size:clamp(18px,7.3vh,35px)}}[_nghost-%COMP%]     app-icon i{width:1em;height:1em}"]}),e})();var q=a(5944);const G=["alt","","ariaLabel",""];function T(e,i){if(1&e&&t._UZ(0,"img",7),2&e){const n=t.oxw();t.Q6J("src",n.src,t.LSH)("alt",n.alt)}}function E(e,i){1&e&&t._UZ(0,"app-icon",8)}function J(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(n.text)}}function Z(e,i){if(1&e&&t._UZ(0,"app-icon",12),2&e){const n=t.oxw(2);t.Q6J("svg","valid"===n.validation?"check":"x-mark")}}function F(e,i){if(1&e&&(t.TgZ(0,"app-headline",9),t.YNc(1,J,2,1,"span",10),t.YNc(2,Z,1,1,"app-icon",11),t.qZA()),2&e){const n=t.oxw();t.Udp("transition",n.validation?"unset":null),t.Q6J("align","center"),t.uIk("data-shown",n.textShown||void 0!==n.validation),t.xp6(1),t.Q6J("ngIf",n.text),t.xp6(1),t.Q6J("ngIf",n.validation)}}let x=(()=>{class e{constructor(){this.selected=!1,this.disabled=!1,this.animation=!1,this.clickEvent=new t.vpe,this.textShown=!0}ngOnInit(){console.log(this.src,this.selected,this.disabled,this.validation,this.animation)}onClick(){this.textShown=!this.textShown,this.clickEvent.emit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-image","alt","","ariaLabel",""]],inputs:{src:"src",alt:"alt",ariaLabel:"ariaLabel",text:"text",selected:"selected",disabled:"disabled",validation:"validation",animation:"animation"},outputs:{clickEvent:"clickEvent"},attrs:G,decls:8,vars:12,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1 1","fill","transparent","width","1","height","1"],[3,"disabled","click"],[1,"loading"],["svg","loading"],["class","image",3,"src","alt",4,"ngIf"],["class","image","svg","image",4,"ngIf"],[3,"transition","align",4,"ngIf"],[1,"image",3,"src","alt"],["svg","image",1,"image"],[3,"align"],[4,"ngIf"],[3,"svg",4,"ngIf"],[3,"svg"]],template:function(n,o){1&n&&(t.O4$(),t._UZ(0,"svg",0),t.kcU(),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.onClick()}),t.TgZ(2,"div")(3,"div",2),t._UZ(4,"app-icon",3),t.qZA(),t.YNc(5,T,1,2,"img",4),t.YNc(6,E,1,0,"app-icon",5),t.YNc(7,F,3,6,"app-headline",6),t.qZA()()),2&n&&(t.xp6(1),t.ekj("selected",o.selected)("animation",o.animation)("border-on-hover",!o.text||!o.src),t.Q6J("disabled",o.disabled),t.uIk("aria-label",o.ariaLabel)("data-validation",o.validation),t.xp6(4),t.Q6J("ngIf",o.src),t.xp6(1),t.Q6J("ngIf",!o.src),t.xp6(1),t.Q6J("ngIf",o.text||o.selected&&void 0!==o.validation))},dependencies:[l.O5,P,q.o],styles:['@keyframes pulse{0%{box-shadow:0 0 0 0 var(--pulse-color)}}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(var(--shake-1))}50%{transform:translate(var(--shake-2))}to{transform:translate(0)}}[_nghost-%COMP%]{position:relative;display:inline-flex;align-items:center}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block;visibility:hidden}[_nghost-%COMP%]   button[_ngcontent-%COMP%], [_nghost-%COMP%]   button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;left:0;right:0;border-radius:5%}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{aspect-ratio:1}[_nghost-%COMP%]   button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;border-radius:5%;overflow:hidden;background-color:rgb(var(--gray-800));height:100%}[_nghost-%COMP%]   button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";top:0;bottom:0;pointer-events:none;border:5px solid rgb(var(--gray-700))}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;box-shadow:0 0 0 2em transparent;border-radius:5%}@media (hover: hover){[_nghost-%COMP%]   button.border-on-hover[_ngcontent-%COMP%]:hover > div[_ngcontent-%COMP%]:before{border-color:rgb(var(--gray-500));z-index:1}}[_nghost-%COMP%]   button[data-validation=valid][_ngcontent-%COMP%]{--color: rgb(var(--success));--accent: rgb(var(--success-accent));--pulse-color: rgb(var(--success))}[_nghost-%COMP%]   button[data-validation=invalid][_ngcontent-%COMP%]{--color: rgb(var(--danger));--accent: rgb(var(--danger-accent));--pulse-color: rgb(var(--danger))}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{border-color:var(--color);z-index:1}[_nghost-%COMP%]   button.selected[_ngcontent-%COMP%]   app-headline[_ngcontent-%COMP%]{background-color:var(--color);color:var(--accent)}[_nghost-%COMP%]   button.animation[data-validation=valid][_ngcontent-%COMP%]:after{animation:pulse 1s}[_nghost-%COMP%]   button.animation[data-validation=invalid][_ngcontent-%COMP%]{animation:shake .15s 2 linear}[_nghost-%COMP%]   button.animation[_ngcontent-%COMP%]:after{z-index:3}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;display:grid;place-items:center;pointer-events:none;color:rgb(var(--gray-500))}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{width:25%;height:25%}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover;position:relative}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:active   app-headline[_ngcontent-%COMP%]{background-color:rgba(var(--black),.5)}@media (hover: hover){[_nghost-%COMP%]   button[_ngcontent-%COMP%]:not(.border-on-hover):hover   app-headline[_ngcontent-%COMP%]{background-color:rgba(var(--black),.5)}}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   app-headline[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:5%;pointer-events:none;background-color:rgba(var(--gray-900),.5);transform:translateY(0);transition:transform .3s ease-in-out}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   app-headline[data-shown=false][_ngcontent-%COMP%]{transform:translateY(100%)}']}),e})();var N=a(212);const A=["question",""];function j(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"div"),t._UZ(2,"app-image",4),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.question.image)("text",n.question.selected?void 0:n.question.title)("ariaLabel","Toggle title shown")("alt","Person face")("selected",n.question.selected)("validation",n.question.answer?n.question.answer.isCorrect?"valid":"invalid":void 0)("disabled",!!n.question.answer)}}function z(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"app-button",5),t.NdJ("clickEvent",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.onClick(c.id))}),t._uU(2),t.qZA()()}if(2&e){const n=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("animation",n.selected)("selected",n.selected)("disabled",o.question.selected)("validation",o.question.answer?o.question.answer.selectedOptionId===n.id&&o.question.answer.correctOptionId===n.id?"valid":"invalid":void 0),t.xp6(1),t.hij(" ",n.title," ")}}let Y=(()=>{class e{constructor(){this.clickEvent=new t.vpe}onClick(n){this.clickEvent.emit({questionId:this.question.id,optionId:n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-select-name","question",""]],inputs:{question:"question"},outputs:{clickEvent:"clickEvent"},attrs:A,decls:4,vars:4,consts:[["id","image",4,"ngIf"],["id","options"],[4,"ngFor","ngForOf"],["id","image"],[3,"src","text","ariaLabel","alt","selected","validation","disabled"],[3,"animation","selected","disabled","validation","clickEvent"]],template:function(n,o){1&n&&(t.YNc(0,j,3,7,"div",0),t.TgZ(1,"div",1)(2,"ul"),t.YNc(3,z,3,5,"li",2),t.qZA()()),2&n&&(t.Q6J("ngIf",o.question.image&&o.question.options.length),t.xp6(2),t.ekj("selected",o.question.selected),t.xp6(1),t.Q6J("ngForOf",o.question.options))},dependencies:[l.sg,l.O5,x,N.r],styles:['@keyframes pulse{0%{box-shadow:0 0 0 0 var(--pulse-color)}}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(var(--shake-1))}50%{transform:translate(var(--shake-2))}to{transform:translate(0)}}[_nghost-%COMP%]{overflow:auto;display:flex;margin:0 auto;position:absolute;top:0;bottom:0;left:0;right:0;padding:20px}@media (orientation: portrait){[_nghost-%COMP%]{flex-direction:column;flex-grow:1}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";display:block;flex-grow:1}}@media (orientation: landscape){[_nghost-%COMP%]{gap:20px;justify-content:center}}#image[_ngcontent-%COMP%]{overflow:hidden;flex-shrink:0;z-index:1;min-width:100px;min-height:100px}@media (min-height: 180px){#image[_ngcontent-%COMP%]{position:sticky;top:0}}@media (orientation: portrait){#image[_ngcontent-%COMP%]{padding-bottom:20px}}@media (orientation: portrait) and (max-width: 540px){#image[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]     label{font-size:6vw}}@media (orientation: portrait) and (min-width: 541px){#image[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]     label{font-size:35px}}@media (orientation: landscape){#image[_ngcontent-%COMP%]{display:flex;max-width:50%}}@media (orientation: landscape) and (max-height: 580px){#image[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]     label{font-size:6vh}}@media (orientation: landscape) and (min-height: 581px){#image[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]     label{font-size:35px}}#image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}@media (orientation: portrait){#image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 auto;flex-direction:column;text-align:center;max-height:min(400px,50vh);flex-shrink:0;aspect-ratio:1;gap:20px}}@media (orientation: landscape){#image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:400px}}@media (hover: hover){#image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]     app-image button:hover:before{display:none}}#options[_ngcontent-%COMP%]{width:100%;align-items:center}@media (orientation: landscape){#options[_ngcontent-%COMP%]{display:grid;max-width:400px}}#options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;gap:10px}@media (orientation: portrait){#options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto;max-width:400px}}@media (orientation: landscape){#options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:-20px;padding-top:20px;padding-bottom:20px}}#options[_ngcontent-%COMP%]   ul.selected[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.selected){opacity:.5}#options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}']}),e})();const $=["question",""];function L(e,i){if(1&e&&(t.TgZ(0,"div",5)(1,"app-headline",6)(2,"span"),t._uU(3),t.qZA()()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("align","center"),t.xp6(2),t.Oqu(n.question.title)}}function U(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-image",7),t.NdJ("clickEvent",function(){const c=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.onClick(c.id))}),t.qZA()}if(2&e){const n=i.$implicit,o=t.oxw();t.Q6J("animation",n.selected)("selected",n.selected)("disabled",o.question.selected)("src",n.image)("ariaLabel","Select person face {{ i + 1 }}")("alt","Person face {{ i }}")("text",n.image||o.question.answer?void 0:"Image missing")("validation",o.question.answer?o.question.answer.selectedOptionId===n.id&&o.question.answer.correctOptionId===n.id?"valid":"invalid":void 0)}}let B=(()=>{class e{constructor(){this.clickEvent=new t.vpe}onClick(n){this.clickEvent.emit({questionId:this.question.id,optionId:n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-select-photo","question",""]],inputs:{question:"question"},outputs:{clickEvent:"clickEvent"},attrs:$,decls:8,vars:4,consts:[["id","question",4,"ngIf"],["id","options"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1 1","fill","transparent","width","1","height","1"],["id","photos"],[3,"animation","selected","disabled","src","ariaLabel","alt","text","validation","clickEvent",4,"ngFor","ngForOf"],["id","question"],[3,"align"],[3,"animation","selected","disabled","src","ariaLabel","alt","text","validation","clickEvent"]],template:function(n,o){1&n&&(t.YNc(0,L,4,2,"div",0),t.TgZ(1,"div",1)(2,"div"),t.O4$(),t._UZ(3,"svg",2),t.kcU(),t.TgZ(4,"div"),t.O4$(),t._UZ(5,"svg",2),t.kcU(),t.TgZ(6,"div",3),t.YNc(7,U,1,8,"app-image",4),t.qZA()()()()),2&n&&(t.Q6J("ngIf",o.question.title&&o.question.options.length),t.xp6(6),t.ekj("selected",o.question.selected),t.xp6(1),t.Q6J("ngForOf",o.question.options))},dependencies:[l.sg,l.O5,x,P],styles:['@keyframes pulse{0%{box-shadow:0 0 0 0 var(--pulse-color)}}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(var(--shake-1))}50%{transform:translate(var(--shake-2))}to{transform:translate(0)}}[_nghost-%COMP%]{overflow:auto;display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0;padding-bottom:20px;align-items:center}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";display:block;flex-grow:1}#question[_ngcontent-%COMP%]{width:100%;padding:20px;position:sticky;top:0;z-index:2}#options[_ngcontent-%COMP%]{padding:0 20px;width:100%;height:100%;gap:20px}@media (orientation: landscape){#options[_ngcontent-%COMP%]{max-width:1700px;max-height:400px}}@media (orientation: portrait){#options[_ngcontent-%COMP%]{max-width:440px;max-height:1660px;flex-shrink:0}}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;height:100%}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:none}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:none}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]{gap:20px;justify-content:center;min-height:10 1px}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]{min-width:100px}@media (orientation: landscape){#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]{display:flex}}@media (orientation: portrait){#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]{display:grid}}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos.selected[_ngcontent-%COMP%] > app-image[_ngcontent-%COMP%]     button:not(.selected){opacity:.5}@media (min-aspect-ratio: 100/100) and (max-aspect-ratio: 100/50) and (min-width: 260px),(min-aspect-ratio: 50/100) and (max-aspect-ratio: 100/100) and (min-height: 260px),(min-width: 860px) and (min-height: 860px){#options[_ngcontent-%COMP%]{display:grid;justify-content:center;max-width:820px;max-height:820px;flex-shrink:unset}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;height:unset;position:relative}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{display:block;visibility:hidden;width:100%;height:100%}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;left:0;right:0}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;gap:20px;grid-template-columns:1fr 1fr}#options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   #photos[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%]{display:flex}}']}),e})();var H=a(7870);function W(e,i){1&e&&(t.ynx(0),t._UZ(1,"app-loading"),t.BQk())}function K(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-select-name",2),t.NdJ("clickEvent",function(s){t.CHM(n);const c=t.oxw(3);return t.KtG(c.onClick(s))}),t.qZA()}if(2&e){const n=t.oxw(2).ngIf;t.Q6J("question",n.game.question)}}function R(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-select-photo",2),t.NdJ("clickEvent",function(s){t.CHM(n);const c=t.oxw(3);return t.KtG(c.onClick(s))}),t.qZA()}if(2&e){const n=t.oxw(2).ngIf;t.Q6J("question",n.game.question)}}function X(e,i){if(1&e&&(t.ynx(0),t.YNc(1,K,1,1,"app-select-name",1),t.YNc(2,R,1,1,"app-select-photo",1),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf","select-name"===n.game.type),t.xp6(1),t.Q6J("ngIf","select-photo"===n.game.type)}}function D(e,i){if(1&e&&(t.ynx(0),t.YNc(1,W,2,0,"ng-container",0),t.YNc(2,X,3,2,"ng-container",0),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngIf","loading"===n.status),t.xp6(1),t.Q6J("ngIf",n.game&&"success"===n.status)}}const V=function(e,i){return{game:e,status:i}},tt=[{path:"",component:(()=>{class e{constructor(n,o){this.gameStore=n,this.route=o,this.game$=this.gameStore.select(O.cF),this.status$=this.gameStore.select(O.lR)}ngOnInit(){this.loadGame()}ngOnDestroy(){this.gameStore.dispatch(r.j3())}loadGame(){this.route.paramMap.pipe((0,S.q)(1)).subscribe(n=>{const o=n.get("id"),s=o?parseInt(o):void 0;s&&this.gameStore.dispatch(r.S_({id:s}))})}onClick(n){this.gameStore.dispatch(r.un({questionId:n.questionId,optionId:n.optionId}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.yh),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game"]],decls:3,vars:8,consts:[[4,"ngIf"],[3,"question","clickEvent",4,"ngIf"],[3,"question","clickEvent"]],template:function(n,o){1&n&&(t.YNc(0,D,3,2,"ng-container",0),t.ALo(1,"async"),t.ALo(2,"async")),2&n&&t.Q6J("ngIf",t.WLB(5,V,t.lcZ(1,1,o.game$),t.lcZ(2,3,o.status$)))},dependencies:[l.O5,Y,B,H.N,l.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e})(),data:{pageType:I.W.game}}];let et=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(tt),u.Bz]}),e})();var g=a(8776),b=a(6263),m=a(3900),f=a(262),nt=a(8505),_=a(9646),C=a(2843),v=a(4707);let ot=(()=>{class e{constructor(){}fetchGame(n){if(1!==n&&2!==n)return(0,C._)(()=>new Error("game not found"));const o=new v.t(1),s=1===n?this.game1():this.game2();return setTimeout(()=>{o.next(s)},1e3),o}fetchQuestion(n){if(9!==n)return(0,C._)(()=>new Error("Question not found"));const o=new v.t(1);return 9===n&&o.next(this.question3()),o}submitQuestionAnswer(n,o){if(3!==n&&4!==n&&9!==n)return(0,C._)(()=>new Error("Question not found"));const s=new v.t(1);let c=0;return 3===n&&(c=3),4===n&&(c=6),9===n&&(c=13),s.next({selectedOptionId:o,correctOptionId:c,isCorrect:o===c}),s}game1(){return{id:1,type:"select-name",gameStatus:"not-started",difficulty:"easy",title:"Name game",question:this.question1()}}game2(){return{id:2,type:"select-photo",gameStatus:"not-started",difficulty:"easy",title:"Picture game",question:this.question2()}}question1(){return{id:3,image:"assets/people/1.webp",options:[{id:1,title:"Simon Jensen",selected:!1},{id:2,title:"Jens Frederiksen",selected:!1},{id:3,title:"Hans Mortensen",selected:!1},{id:4,title:"Mikkel Hansen",selected:!1}],title:"Who is this?",currentQuestionNumber:1,currentQuestionId:3,nextQuestionId:void 0,totalQuestions:1,status:"loaded",selected:!1}}question2(){return{id:4,options:[{id:5,selected:!1},{id:6,image:"assets/people/2.webp",selected:!1},{id:7,image:"assets/people/3.webp",selected:!1},{id:8,image:"assets/people/4.webp",selected:!1}],title:"Who is Simon?",currentQuestionNumber:1,currentQuestionId:4,nextQuestionId:9,totalQuestions:2,status:"loaded",selected:!1}}question3(){return{id:9,options:[{id:10,image:"assets/people/5.webp",selected:!1},{id:11,image:"assets/people/6.webp",selected:!1},{id:12,image:"assets/people/7.webp",selected:!1},{id:13,image:"assets/people/8.webp",selected:!1}],title:"Who is Michelle?",currentQuestionNumber:2,currentQuestionId:9,nextQuestionId:void 0,totalQuestions:2,status:"loaded",selected:!1}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),it=(()=>{class e{constructor(n,o,s,c){this.actions$=n,this.gameApiService=o,this.router=s,this.gameStore=c,this.fetchGame$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(r.S_),(0,m.w)(p=>this.gameApiService.fetchGame(p.id).pipe((0,m.w)(d=>[r.tA({game:d})]),(0,f.K)(d=>(0,_.of)(r.CC({error:d}))))))),this.fetchGameFailure$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(r.CC),(0,nt.b)(p=>{this.router.navigate(["/error"],{skipLocationChange:!0})})),{dispatch:!1}),this.submitQuestionAnswer$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(r.un),(0,m.w)(p=>this.gameApiService.submitQuestionAnswer(p.questionId,p.optionId).pipe((0,m.w)(d=>[r.kX({answer:d})]),(0,f.K)(d=>(0,_.of)(r.CC({error:d}))))))),this.fetchQuestion$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(r.Ci),(0,m.w)(p=>this.gameApiService.fetchQuestion(p.questionId).pipe((0,m.w)(d=>[r.uK({question:d})]),(0,f.K)(d=>(0,_.of)(r.ir({error:d})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.eX),t.LFG(ot),t.LFG(u.F0),t.LFG(h.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez]}),e})();var y=a(2876);let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,w,y.Q]}),e})();var at=a(8107);let st=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,k,y.Q,at.h]}),e})(),ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,k,w]}),e})();var rt=a(7194);let lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,et,h.Aw.forFeature(b.Jh,b.F6),g.sQ.forFeature([it]),st,ct,rt.I]}),e})()}}]);